/*
Gruppemedlemmer: Stian Hvidsten (236619), Aleksander Foss Vold (236608) og Thomas Löfstedt (236612).
Informasjonsteknolgi (Kullklassekode: INFORMATIK14HA).

Oppgave 2*/

import javax.swing.*;
import java.util.*;

public class UnikeTall
{
    int[] array; // Deklarasjon av array for lagring av tilfeldige heltall
    int lowerconstant = 100; // Deklarasjon av nedre grense
    int upperconstant = 1000; // Deklarasjon av øvre grense
    JTextArea output = new JTextArea("");
    Random generator = new Random();
    String utskrift = "";


    /* Deklarasjon av array for lagring av tilfeldige heltall og andre
    nødvendige variabler og/eller konstanter.  */

    public UnikeTall(int input)
    {
        array = new int[input];
    }
    /*Konstruktør som mottar arrayens lengde som parameter og
    oppretter arrayen.  */

    public boolean finnes( int tall )
    {
		//boolean sjekke= false;
        for (int i = 0; i < array.length; i++)
        {
            if (tall == array[i])
            {
                return true;
            }
           /* else
        	{
        		sjekke = false;
		    }*/
	     } return false;
    }
    /*Metode som skal undersøke om et gitt tall finnes i arrayen fra før.
    Tallet det letes etter skal mottas som parameter.
    Metoden skal returnere true hvis tallet finnes i arrayen.
    Hvis ikke skal metoden returnere false. */

    public void tilfeldig()
    {
		int random = 0;
        for (int i = 0; i < array.length; i++)
        {
            random = generator.nextInt((upperconstant - lowerconstant) +1) + lowerconstant;

			if(finnes(random)== true)
			{
				i--;
			}
			else
			{
				array[i]= random;
			}

		}
    }
    /*Metode som skal fylle arrayen med tilfeldige tall mellom 100 og 1000,
    begge grenser inkludert. Metoden skal gjøre dette på en måte som sikrer
    at alle tallene er forskjellige. Metoden skal ikke ha parametre og heller
    ikke returnere noen verdi.  */

    public int lavesteTall()
    {
        int lavesteTall = Integer.MAX_VALUE;
        for(int i = 0; i < array.length; i++)
        {
            if(lavesteTall > array[i])
            {
                lavesteTall = array[i];

            }
        } return lavesteTall;
    }
   /*Metode som finner og returnerer det minste tallet i arrayen. */

    public int storsteTall()
    {
        int storsteTall= Integer.MIN_VALUE;
        for(int i = 0; i < array.length; i++)
        {
            if(storsteTall < array[i])
            {
                storsteTall = array[i];

            }
        }return storsteTall;
    }
   /* Metode som finner og returnerer det største tallet i arrayen. */

    public double snitt(int[] array)
    {
        double snitt = 0;
        for(int i = 0; i < array.length; i++)
        {
            snitt = snitt + array[i];
        }
       snitt= (double)snitt/array.length;
       return snitt;

    }
    /* Metode som beregner og returnerer den gjennomstnittlige verdien
    (double-verdi) av tallene i arrayen.  */

	public int nærmsnitt()
	     {
	    	 double average = snitt(array);
	    	 int distance = Math.abs(array[0] - (int) average);
	    	 int index = 0;
	    	 for(int i = 1; i < array.length; i++){
	    	     int iDistance = Math.abs(array[i] - (int) average);
	    	     if(iDistance < distance){
	    	         index = i;
	    	         distance = iDistance;
	    	     }
	    	 }
	    	 int avgClosest = array[index];
	    	 return avgClosest;
	}

    /*Metode som returnerer den heltallsverdien som ligger nærmest
    gjennomsnittverdien. Hint! Her kan du bruke Math.abs(...) som returnerer
    absoluttverdien til uttrykket mellom parentesene. */

	public void output(JTextArea tekstområde)
	{
		tilfeldig();
		for( int i = 0; i < array.length; i++)
		{
			tekstområde.append(array[i] + "  ");

			if ( (i + 1) % 8 == 0 )
				{
				tekstområde.append("\n");
				}

			if ( i != array.length -1)
				{
				tekstområde.append(" ");
				}
			else
				{
				tekstområde.append("");
				}

		}
		utskrift =  "\n" +
		"Største tall: " + storsteTall() + "\n" +
		"Minste tall: " + lavesteTall() + "\n" +
		"Gjennomsnitt: " + snitt(array) + "\n" +
		"Nærmest gjennomsnitt: " + nærmsnitt() + "\n";
		tekstområde.append(utskrift);

		JOptionPane.showMessageDialog(null, tekstområde, "Unike tall", JOptionPane.PLAIN_MESSAGE);
	}
   /*Metode som viser tallene i arrayen i et tekstområde, som mottas
     som parameter. I tillegg skal det, i tekstområdet, skrives ut
     opplysninger om hvilket tall som er minst, hvilket som er størst,
     hva som er gjennomsnittsverdien, og hvilken heltallsverdi som
     er nærmest gjennomnittet, jfr bildet over. Gjennomsnittverdien
     skal skrives ut med en desimal. Legg inn mellomrom mellom tallene
     og skriv ut et passende antall tall per linje. */
}
